
// This file was automatically generated by the PetaPoco T4 Template
// Do not make changes directly to this file - edit the template instead
// 
// The following connection settings were used to generate this file
// 
//     Connection String Name: `SqlServer`
//     Provider:               `System.Data.SqlClient`
//     Connection String:      `server=122.51.229.47;uid=sa;pwd=launch-advisor-20180222;database=WMS;`
//     Schema:                 ``
//     Include Views:          `True`

using System;
using System.Collections.Generic;
using System.Linq;
using System.Web;
using PetaPoco;
using MCS.CommonModel;
using MongoDB.Bson.Serialization.Attributes;
using NetRube.Data;

namespace MCS.Entities
{
	public partial class Db : PetaPoco.Database
	{
		public partial class Record<T> where T: IModel
		{
			
			private Dictionary<string,bool> _modifiedColumns = new Dictionary<string, bool>();
			private void OnLoaded()
			{
				_modifiedColumns = new Dictionary<string,bool>();
				Editabled = false;
			}
			/// <summary>
			/// Modified Field Notification Func
			/// </summary>
			protected void MarkColumnModified(string column_name)
			{
				if (_modifiedColumns!=null)
					_modifiedColumns[column_name]=true;
			}
			/// <summary>
			/// Modified Fields List
			/// </summary>
			[ResultColumn]
			public IEnumerable<string> ModifiedColumns { get { return _modifiedColumns.Keys; } }
			/// <summary>
            /// Modified Complete
            /// </summary>
            public void ModifiedComplete() { _modifiedColumns = new Dictionary<string, bool>(); }
			/// <summary>
            /// Is Edit Mode
            /// </summary>
			protected bool Editabled = true;
		}
	}
}